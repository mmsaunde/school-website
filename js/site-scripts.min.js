document.addEventListener("includes-loaded",function(){var e=()=>{var e=document.getElementById("progress"),t=(document.getElementById("progress-value"),document.documentElement.scrollTop||document.body.scrollTop),n=document.documentElement.scrollHeight-document.documentElement.clientHeight,n=Math.round(100*t/n);e.style.display=100<t?"grid":"none",e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),e.style.background=`conic-gradient(#47633f ${n}%, #808080 ${n}%)`},e=(window.onscroll=e,window.onload=e,document.querySelectorAll(".nav__link"));let n=window.location.pathname;"/"!==n&&"/index.html"!==n||(n="/index.html"),e.forEach(e=>{let t=new URL(e.href).pathname;"/"!==t&&"/index.html"!==t||(t="/index.html"),n===t&&e.classList.add("active")});const t=document.querySelector(".nav"),o=document.querySelector(".hamburger");e=document.querySelectorAll(".nav__item"),o&&(o.addEventListener("click",()=>{t.classList.toggle("nav--open"),o.classList.toggle("hamburger--open")}),e.forEach(e=>{e.addEventListener("click",()=>{t.classList.remove("nav--open"),o.classList.remove("hamburger--open")})})),e=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(e).forEach(function(t){t.addEventListener("submit",function(e){t.checkValidity()||(e.preventDefault(),e.stopPropagation()),t.classList.add("was-validated")},!1)}),["feedbackForm","partnershipForm"].forEach(e=>{e=document.getElementById(e);e&&e.addEventListener("submit",function(e){e.preventDefault();e=new FormData(this);fetch("https://script.google.com/macros/s/AKfycbyG2lTWEVJWUrWLWWUKAZUjYuKG9uIr4fKCbIXkCty12j13zGnsqrrI-VYrqwGe6geu/exec",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(e)}).then(e=>e.json()).then(e=>{e.redirect&&(window.location.href=e.redirect)}).catch(e=>{console.error("Error:",e),alert("There was an issue submitting your form.")})})});[{trigger:"feedbackTrigger",dialog:"feedbackDialog"},{trigger:"partnershipTrigger",dialog:"partnershipDialog"}].forEach(({trigger:e,dialog:t})=>{e=document.getElementById(e);const n=document.getElementById(t);e&&n&&(e.addEventListener("click",function(e){e.preventDefault(),n.showModal()}),n.addEventListener("click",function(e){e.target===n&&n.close()}))})}),function(){const o=document.getElementById("lightbox"),t=document.getElementById("lbImage"),n=document.getElementById("lbCounter"),r=o.querySelector(".lb-prev"),c=o.querySelector(".lb-next"),l=o.querySelector(".lb-close");let a=[],d=0,i=null;function s(){o.classList.remove("lb-open"),o.setAttribute("aria-hidden","true"),document.body.style.overflow="",t.src="",i&&i.focus&&i.focus()}function u(){var e=a[d];t.src=e,t.alt=`Image ${d+1} of `+a.length,n.textContent=d+1+" / "+a.length,g(d+1),g(d-1)}function g(e){e<0||e>=a.length||((new Image).src=a[e])}function m(){d=(d+1)%a.length,u()}function h(){d=(d-1+a.length)%a.length,u()}document.querySelectorAll(".lb-trigger").forEach(n=>{n.addEventListener("click",e=>{e.preventDefault();var t,e=function(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-ext")||".jpeg",o=parseInt(e.getAttribute("data-count")||"0",10),r=[];for(let e=1;e<=o;e++)r.push(""+t+e+n);return r}(n);t=0,(e=e)&&e.length&&(a=e.slice(),d=Math.max(0,Math.min(t,a.length-1)),i=document.activeElement,document.body.style.overflow="hidden",o.classList.add("lb-open"),o.setAttribute("aria-hidden","false"),u(),l.focus(),e=1===a.length,r.classList.toggle("lb-hidden",e),c.classList.toggle("lb-hidden",e))})}),c.addEventListener("click",m),r.addEventListener("click",h),l.addEventListener("click",s),o.addEventListener("click",e=>{var t=e.target.closest(".lb-stage"),n=e.target.closest(".lb-close"),e=e.target.closest(".lb-arrow");t||n||e||s()}),document.addEventListener("keydown",e=>{if(o.classList.contains("lb-open"))switch(e.key){case"Escape":s();break;case"ArrowRight":m();break;case"ArrowLeft":h()}});let f=null;o.addEventListener("touchstart",e=>{e.touches&&1===e.touches.length&&(f=e.touches[0].clientX)},{passive:!0}),o.addEventListener("touchend",e=>{null!==f&&(40<(e=(e.changedTouches&&e.changedTouches[0]?.clientX||f)-f)?h():e<-40&&m(),f=null)})}();
