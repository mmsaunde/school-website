document.addEventListener("includes-loaded",function(){var e=()=>{var e=document.getElementById("progress"),t=(document.getElementById("progress-value"),document.documentElement.scrollTop||document.body.scrollTop),n=document.documentElement.scrollHeight-document.documentElement.clientHeight,n=Math.round(100*t/n);e.style.display=100<t?"grid":"none",e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),e.style.background=`conic-gradient(#47633f ${n}%, #808080 ${n}%)`},e=(window.onscroll=e,window.onload=e,document.querySelectorAll(".nav__link"));let n=window.location.pathname;"/"!==n&&"/index.html"!==n||(n="/index.html"),e.forEach(e=>{let t=new URL(e.href).pathname;"/"!==t&&"/index.html"!==t||(t="/index.html"),n===t&&e.classList.add("active")});const t=document.querySelector(".nav"),o=document.querySelector(".hamburger");e=document.querySelectorAll(".nav__item");o&&(o.addEventListener("click",()=>{t.classList.toggle("nav--open"),o.classList.toggle("hamburger--open")}),e.forEach(e=>{e.addEventListener("click",()=>{t.classList.remove("nav--open"),o.classList.remove("hamburger--open")})})),document.querySelectorAll(".needs-validation").forEach(t=>{t.addEventListener("submit",e=>{t.checkValidity()||(e.preventDefault(),e.stopPropagation(),t.classList.add("was-validated"))},!1)});["feedbackForm","partnershipForm"].forEach(e=>{const l=document.getElementById(e);l&&l.addEventListener("submit",async t=>{if(l.checkValidity()&&(t.preventDefault(),"true"!==l.dataset.submitting)){l.dataset.submitting="true";const r=l.querySelector('[type="submit"]'),a=r?r.textContent:null;t=t=>{Array.from(l.elements).forEach(e=>{try{e.disabled=t}catch(e){}}),r&&(r.textContent=t?"Sending...":a||"Submit Form",r.setAttribute("aria-busy",t?"true":"false"))};try{var e=new FormData(l),n=new URLSearchParams(e),o=(t(!0),await fetch("https://script.google.com/macros/s/AKfycbx5yBZAcCTnm_Wi9PxKFI2DExjUzFMTlIi_BolH3IVNyFW0dl6C3WwHJHYSxTNBE4O4/exec",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n}));o.ok?window.location.assign("/success.html"):(console.error("Submission failed with status:",o.status),t(!1),delete l.dataset.submitting)}catch(e){console.error("Submission error:",e),t(!1),delete l.dataset.submitting}}})});[{trigger:"feedbackTrigger",dialog:"feedbackDialog"},{trigger:"partnershipTrigger",dialog:"partnershipDialog"}].forEach(({trigger:e,dialog:t})=>{e=document.getElementById(e);const n=document.getElementById(t);e&&n&&(e.addEventListener("click",e=>{e.preventDefault(),n.showModal()}),n.addEventListener("click",e=>{e.target===n&&n.close()}),n.addEventListener("close",()=>{var e=n.querySelector("form");e&&(e.classList.remove("was-validated"),Array.from(e.elements).forEach(e=>{try{e.disabled=!1}catch(e){}}),delete e.dataset.submitting,(e=e.querySelector('[type="submit"]'))&&e.removeAttribute("aria-busy"))}))})}),function(){const o=document.getElementById("lightbox"),t=document.getElementById("lbImage"),n=document.getElementById("lbCounter"),r=o.querySelector(".lb-prev"),a=o.querySelector(".lb-next"),l=o.querySelector(".lb-close");let c=[],s=0,i=null;function d(){o.classList.remove("lb-open"),o.setAttribute("aria-hidden","true"),document.body.style.overflow="",t.src="",i&&i.focus&&i.focus()}function u(){var e=c[s];t.src=e,t.alt=`Image ${s+1} of `+c.length,n.textContent=s+1+" / "+c.length,m(s+1),m(s-1)}function m(e){e<0||e>=c.length||((new Image).src=c[e])}function g(){s=(s+1)%c.length,u()}function h(){s=(s-1+c.length)%c.length,u()}document.querySelectorAll(".lb-trigger").forEach(n=>{n.addEventListener("click",e=>{e.preventDefault();var t,e=function(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-ext")||".jpeg",o=parseInt(e.getAttribute("data-count")||"0",10),r=[];for(let e=1;e<=o;e++)r.push(""+t+e+n);return r}(n);t=0,(e=e)&&e.length&&(c=e.slice(),s=Math.max(0,Math.min(t,c.length-1)),i=document.activeElement,document.body.style.overflow="hidden",o.classList.add("lb-open"),o.setAttribute("aria-hidden","false"),u(),l.focus(),e=1===c.length,r.classList.toggle("lb-hidden",e),a.classList.toggle("lb-hidden",e))})}),a.addEventListener("click",g),r.addEventListener("click",h),l.addEventListener("click",d),o.addEventListener("click",e=>{var t=e.target.closest(".lb-stage"),n=e.target.closest(".lb-close"),e=e.target.closest(".lb-arrow");t||n||e||d()}),document.addEventListener("keydown",e=>{if(o.classList.contains("lb-open"))switch(e.key){case"Escape":d();break;case"ArrowRight":g();break;case"ArrowLeft":h()}});let b=null;o.addEventListener("touchstart",e=>{e.touches&&1===e.touches.length&&(b=e.touches[0].clientX)},{passive:!0}),o.addEventListener("touchend",e=>{null!==b&&(40<(e=(e.changedTouches&&e.changedTouches[0]?.clientX||b)-b)?h():e<-40&&g(),b=null)})}();
